---
import type { Language, Translations } from '../i18n';
import LanguageSwitch from './LanguageSwitch.astro';

interface Props {
  lang: Language;
  t: Translations;
}

const { lang, t } = Astro.props;

const navLinks = [
  { label: t.nav.about, href: '#about' },
  { label: t.nav.skills, href: '#skills' },
  { label: t.nav.projects, href: '#projects' },
  { label: t.nav.contact, href: '#contact', isCta: true },
];
---

<nav
  id="navbar"
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-300"
  style="background: rgba(0, 0, 0, 0.8); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-bottom: 1px solid rgba(250, 250, 250, 0.05);"
>
  <div class="max-w-[1200px] mx-auto px-6">
    <div class="flex items-center justify-between h-[72px]">
      <!-- Logo -->
      <a href={lang === 'pl' ? '/pl' : '/'} class="text-xl font-bold tracking-tight text-white">
        KK<span style="color: var(--color-primary);">.</span>
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center gap-8">
        <ul class="flex items-center gap-8">
          {navLinks.map((link) => (
            <li>
              {link.isCta ? (
                <a
                  href={link.href}
                  class="btn btn-primary text-sm px-5 py-2"
                  data-section={link.href.replace('#', '')}
                >
                  {link.label}
                </a>
              ) : (
                <a href={link.href} class="nav-link" data-section={link.href.replace('#', '')}>
                  {link.label}
                </a>
              )}
            </li>
          ))}
        </ul>
        <LanguageSwitch currentLang={lang} />
      </div>

      <!-- Mobile Menu Button -->
      <div class="flex md:hidden items-center gap-4">
        <LanguageSwitch currentLang={lang} />
        <button
          class="mobile-menu-btn flex flex-col justify-center items-center w-10 h-10 gap-1.5"
          aria-label="Menu"
        >
          <span class="menu-line w-6 h-0.5 bg-white transition-all duration-300"></span>
          <span class="menu-line w-6 h-0.5 bg-white transition-all duration-300"></span>
          <span class="menu-line w-6 h-0.5 bg-white transition-all duration-300"></span>
        </button>
      </div>
    </div>

    <!-- Mobile Navigation -->
    <ul class="nav-links-mobile hidden flex-col gap-4 pb-6 md:!hidden">
      {navLinks.map((link) => (
        <li>
          <a
            href={link.href}
            class="mobile-nav-link block py-2 text-sm font-medium transition-colors"
            data-section={link.href.replace('#', '')}
            style="color: rgba(250, 250, 250, 0.6);"
          >
            {link.label}
          </a>
        </li>
      ))}
    </ul>
  </div>
</nav>
