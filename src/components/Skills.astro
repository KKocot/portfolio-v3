---
import type { Translations } from '../i18n';
import { Icon } from 'astro-icon/components';

interface Props {
  t: Translations;
}

const { t } = Astro.props;

const skillCategories = [
  {
    title: t.skills.categories.frontend,
    color: 'blue',
    skills: [
      { icon: 'simple-icons:react', name: 'React' },
      { icon: 'simple-icons:nextdotjs', name: 'Next.js' },
      { icon: 'simple-icons:typescript', name: 'TypeScript' },
      { icon: 'simple-icons:tailwindcss', name: 'Tailwind CSS' },
      { icon: 'simple-icons:astro', name: 'Astro' },
      { icon: 'simple-icons:figma', name: 'Figma' },
    ],
  },
  {
    title: t.skills.categories.backend,
    color: 'green',
    skills: [
      { icon: 'simple-icons:nodedotjs', name: 'Node.js' },
      { icon: 'simple-icons:bun', name: 'Bun' },
      { icon: 'simple-icons:express', name: 'Express' },
      { icon: 'simple-icons:mongodb', name: 'MongoDB' },
      { icon: 'simple-icons:zod', name: 'Zod' },
      { icon: 'simple-icons:nginx', name: 'Nginx' },
    ],
  },
  {
    title: t.skills.categories.mobile,
    color: 'purple',
    skills: [
      { icon: 'simple-icons:react', name: 'React Native' },
      { icon: 'simple-icons:expo', name: 'Expo' },
      { icon: 'simple-icons:playwright', name: 'Playwright' },
      { icon: 'simple-icons:jest', name: 'Jest' },
    ],
  },
  {
    title: t.skills.categories.devops,
    color: 'orange',
    skills: [
      { icon: 'simple-icons:docker', name: 'Docker' },
      { icon: 'simple-icons:git', name: 'Git' },
      { icon: 'simple-icons:vercel', name: 'Vercel' },
      { icon: 'simple-icons:githubactions', name: 'GitHub Actions' },
      { icon: 'simple-icons:turborepo', name: 'Turborepo' },
      { icon: 'simple-icons:linux', name: 'Linux' },
    ],
  },
];

const colorClasses: Record<string, { dot: string; icon: string; iconHover: string }> = {
  blue: {
    dot: 'bg-blue-500',
    icon: 'text-blue-400/60',
    iconHover: 'group-hover/skill:text-blue-400',
  },
  green: {
    dot: 'bg-emerald-500',
    icon: 'text-emerald-400/60',
    iconHover: 'group-hover/skill:text-emerald-400',
  },
  purple: {
    dot: 'bg-purple-500',
    icon: 'text-purple-400/60',
    iconHover: 'group-hover/skill:text-purple-400',
  },
  orange: {
    dot: 'bg-orange-500',
    icon: 'text-orange-400/60',
    iconHover: 'group-hover/skill:text-orange-400',
  },
};
---

<section id="skills" class="py-24 lg:py-32">
  <div class="max-w-[1200px] mx-auto px-6">
    <!-- Header -->
    <div class="text-center mb-16">
      <span class="section-tag">{t.skills.tag}</span>
      <h2 class="section-title whitespace-pre-line">{t.skills.title}</h2>
    </div>

    <!-- Main Skills Grid -->
    <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
      {skillCategories.map((category, index) => {
        const colors = colorClasses[category.color];
        return (
          <div
            class="skill-card animate-on-scroll group"
            style={`transition-delay: ${index * 100}ms`}
          >
            <!-- Category Header -->
            <div class="flex items-center gap-3 mb-6 pb-4" style="border-bottom: 1px solid rgba(250, 250, 250, 0.08);">
              <div class={`w-2 h-2 rounded-full ${colors.dot}`}></div>
              <h3 class="text-xs font-semibold uppercase tracking-wider" style="color: rgba(250, 250, 250, 0.5);">
                {category.title}
              </h3>
            </div>

            <!-- Skills List -->
            <div class="grid grid-cols-3 gap-3">
              {category.skills.map((skill) => (
                <div class="group/skill flex flex-col items-center gap-1.5 p-2 rounded-lg transition-all duration-200 hover:bg-white/5">
                  <Icon
                    name={skill.icon}
                    class={`w-7 h-7 ${colors.icon} ${colors.iconHover} transition-colors duration-200`}
                  />
                  <span class="text-[10px] text-white/60 group-hover/skill:text-white/90 transition-colors text-center leading-tight">
                    {skill.name}
                  </span>
                </div>
              ))}
            </div>
          </div>
        );
      })}
    </div>
  </div>
</section>
